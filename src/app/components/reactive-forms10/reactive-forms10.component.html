<h3 class="center">Demos 10 : Les formulaires réactif</h3>

<div class="row">
    <div class="col s12">
        <div class="card blue-grey darken-1">
            <div class="card-content white-text">
                <div class="row">

                    <form class="col s12" (ngSubmit)="onSubmitRf()" [formGroup]="myForm">
                        <div class="input-field col s6">
                            <input formControlName="name" type="text" placeholder="Votre nom">
                            <label>Nom</label>
                            <ng-container *ngIf="myForm.controls['name'].errors && myForm.controls['name'].touched">

                                <span class="helper-text" data-error="wrong" data-success="right" 
                                    *ngIf="myForm.controls['name'].errors['required']" class="alert-danger"
                                >
                                    Est requis
                                </span>
                                
                                <span class=" helper-text alert-danger" data-error="wrong" data-success="right"
                                    *ngIf="myForm.controls['name'].errors['minlength']"
                                >
                                Dois être supérieur à {{myForm.controls['name'].errors['minlength'].requiredLength}} caractères
                                , actuellement {{myForm.controls['name'].errors['minlength'].actualLength}} caractères
                                </span>

                                <span class="helper-text" data-error="wrong" data-success="right" 
                                    *ngIf="myForm.controls['name'].errors['maxlength']" class="alert-danger"
                                >
                                    Est trop long "Re-Titre"
                                </span>
                            </ng-container>
                        </div>
                        <div class="input-field col s6">
                            <input formControlName="email" type="email" placeholder="Votre email">
                            <label>Email</label>
                        </div>

                        <div class="input-field col s6">
                            <input formControlName="pwd" type="password" placeholder="votre mot de passe">
                            <label>Mot de passe</label>
                        </div>
                        <div class="input-field col s6">
                            <input formControlName="pwdConfirm" type="password" placeholder="Confirmer votre mot de passe">
                            <label>Confirmer le Mot de passe</label>
                        </div>
                        <ng-container *ngIf="myForm.errors && myForm.controls['pwd'].touched">

                            <span class="helper-text" data-error="wrong" data-success="right" 
                                *ngIf="myForm.errors['error']" class="alert-danger"
                            >
                                {{myForm.errors['error']}}
                            </span>

                        </ng-container>

                        <div class="input-field col s6">
                            <select formControlName="gender">
                                <option value="male">Homme</option>
                                <option value="female">Femme</option>
                                <option value="other">Autre</option>
                            </select>
                            <label>Genre</label>
                        </div>

                        <!-- <button class="btn green" (click)="submit()">Envoyer</button> -->
                        <input type="submit" class="btn green" value="Envoyer">
                    </form>

                </div>
            </div>
        </div>
    </div>
</div>





<div class="row">

    <div class="col s12">
        <div class="card blue-grey darken-1">
            <div class="card-content white-text">

                <span class="card-title">Form Controls (abstractControl)</span>
                <ul class="collection black-text">
                    <li class="collection-item orange" *ngIf="myForm.pristine">Formulaire Abstract Control : (pristine)</li>
                    <li class="collection-item orange" *ngIf="myForm.touched">Formulaire Abstract Control : (touched)</li>
                    <li class="collection-item red" *ngIf="myForm.invalid">Formulaire Abstract Control : (invalid)</li>
                    <li class="collection-item green" *ngIf="myForm.valid">Formulaire Abstract Control : (valid)</li>
                </ul>
                
                <hr>                

                <span class="card-title">Form control individual (control)</span>
                <ul class="collection black-text">
                    <li class="collection-item green" *ngIf='myForm.controls["name"].valid'>Champ Name : (valid)</li>
                    <li class="collection-item red" *ngIf='myForm.controls["name"].errors'>Champ Name : (invalid)</li>

                    <li class="collection-item green" *ngIf='myForm.controls["email"].valid'>Champ Email : (valid)</li>
                    <li class="collection-item red" *ngIf='myForm.controls["email"].errors'>Champ Email : (invalid)</li>

                    <li class="collection-item green" *ngIf='myForm.controls["pwd"].valid'>Champ pwd : (valid)</li>
                    <li class="collection-item red" *ngIf='myForm.controls["pwd"].errors'>Champ pwd : (invalid)</li>

                    <li class="collection-item green" *ngIf='myForm.controls["pwdConfirm"].valid'>Champ pwdConfirm : (valid)</li>
                    <li class="collection-item red" *ngIf='myForm.controls["pwdConfirm"].errors'>Champ pwdConfirm : (invalid)</li>


                    <li class="collection-item green" *ngIf='myForm.controls["gender"].valid'>Champ Gender (valid)</li>
                    <li class="collection-item red" *ngIf='myForm.controls["gender"].errors'>Champ Gender (invalid)</li>
                </ul>

                <hr>

                <button class="btn green" (click)="viewForm()">Voir le console log du formulaire</button>
                
            </div>
        </div>
    </div>

</div>

